<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.svg"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="<aside>
ğŸ’¡
æœ¬æ–‡ä»¥3000å¹³åŠå…¬å®¤ç½‘ç»œéœ€æ±‚ä¸ºç¤ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»ä»è§„åˆ’åˆ°å®æ–½çš„å…·ä½“ç»†èŠ‚ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚">
<meta property="og:title" content="3000å¹³åŠå…¬å®¤ç½‘ç»œè®¾è®¡è¯´æ˜">
<meta property="og:description" content="<aside>
ğŸ’¡
æœ¬æ–‡ä»¥3000å¹³åŠå…¬å®¤ç½‘ç»œéœ€æ±‚ä¸ºç¤ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»ä»è§„åˆ’åˆ°å®æ–½çš„å…·ä½“ç»†èŠ‚ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚">
<meta property="og:type" content="article">
<meta property="og:url" content="https://weisunit.github.io/post/3000-ping-ban-gong-shi-wang-luo-she-ji-shuo-ming.html">
<meta property="og:image" content="https://github.githubassets.com/favicons/favicon.svg">
<title>3000å¹³åŠå…¬å®¤ç½‘ç»œè®¾è®¡è¯´æ˜</title>
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />


</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">3000å¹³åŠå…¬å®¤ç½‘ç»œè®¾è®¡è¯´æ˜</h1>
<div class="title-right">
    <a href="https://weisunit.github.io" id="buttonHome" class="btn btn-invisible circle" title="é¦–é¡µ">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/weisunit/weisunit.github.io/issues/11" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="åˆ‡æ¢ä¸»é¢˜">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody">
ğŸ’¡
æœ¬æ–‡ä»¥3000å¹³åŠå…¬å®¤ç½‘ç»œéœ€æ±‚ä¸ºç¤ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»ä»è§„åˆ’åˆ°å®æ–½çš„å…·ä½“ç»†èŠ‚ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚

<h1>ä¸€. åŠå…¬å®¤ç½‘ç»œè®¾è®¡è¯´æ˜</h1>
<h2>1. ç½‘ç»œæ¶æ„è®¾è®¡</h2>
<h3>1.1 ä¸‰å±‚ç½‘ç»œæ¶æ„</h3>
<p>é‡‡ç”¨ç»å…¸çš„ä¸‰å±‚ç½‘ç»œæ¶æ„ï¼š</p>
<ul>
<li><strong>æ ¸å¿ƒå±‚ï¼ˆCore Layerï¼‰</strong>ï¼šé«˜é€Ÿæ•°æ®è½¬å‘ï¼Œè¿æ¥æ±‡èšå±‚</li>
<li><strong>æ±‡èšå±‚ï¼ˆDistribution Layerï¼‰</strong>ï¼šç­–ç•¥æ§åˆ¶ï¼Œè¿æ¥æ ¸å¿ƒå±‚å’Œæ¥å…¥å±‚</li>
<li><strong>æ¥å…¥å±‚ï¼ˆAccess Layerï¼‰</strong>ï¼šç”¨æˆ·æ¥å…¥ï¼Œè¿æ¥ç»ˆç«¯è®¾å¤‡</li>
</ul>
<h3>1.2 ç½‘ç»œæ‹“æ‰‘ç‰¹ç‚¹</h3>
<ul>
<li>æ ¸å¿ƒå±‚åŒæœºçƒ­å¤‡ï¼Œä¿è¯é«˜å¯ç”¨æ€§</li>
<li>æ±‡èšå±‚æ¯å±‚éƒ¨ç½²2å°ï¼Œæä¾›å†—ä½™</li>
<li>æ¥å…¥å±‚æ˜Ÿå‹è¿æ¥åˆ°æ±‡èšå±‚</li>
<li>æ— çº¿ç½‘ç»œç‹¬ç«‹éƒ¨ç½²ï¼Œç»Ÿä¸€ç®¡ç†</li>
</ul>
<h2>2. VLANè§„åˆ’</h2>
<h3>2.1 VLANåˆ†é…è¡¨</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>VLAN ID</strong></th>
<th><strong>VLANåç§°</strong></th>
<th><strong>ç½‘æ®µ</strong></th>
<th><strong>ç”¨é€”</strong></th>
<th><strong>ç½‘å…³</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>Management</td>
<td>192.168.10.0/24</td>
<td>è®¾å¤‡ç®¡ç†</td>
<td>192.168.10.1</td>
</tr>
<tr>
<td>100</td>
<td>Office-1F</td>
<td>10.1.100.0/24</td>
<td>ä¸€æ¥¼åŠå…¬åŒº</td>
<td>10.1.100.1</td>
</tr>
<tr>
<td>200</td>
<td>Office-2F</td>
<td>10.1.200.0/24</td>
<td>äºŒæ¥¼åŠå…¬åŒº</td>
<td>10.1.200.1</td>
</tr>
<tr>
<td>300</td>
<td>Office-3F</td>
<td>10.1.300.0/24</td>
<td>ä¸‰æ¥¼åŠå…¬åŒº</td>
<td>10.1.300.1</td>
</tr>
<tr>
<td>110</td>
<td>Meeting-1F</td>
<td>10.1.110.0/24</td>
<td>ä¸€æ¥¼ä¼šè®®å®¤</td>
<td>10.1.110.1</td>
</tr>
<tr>
<td>210</td>
<td>Meeting-2F</td>
<td>10.1.210.0/24</td>
<td>äºŒæ¥¼ä¼šè®®å®¤</td>
<td>10.1.210.1</td>
</tr>
<tr>
<td>310</td>
<td>Meeting-3F</td>
<td>10.1.310.0/24</td>
<td>ä¸‰æ¥¼ä¼šè®®å®¤</td>
<td>10.1.310.1</td>
</tr>
<tr>
<td>50</td>
<td>Server</td>
<td>10.1.50.0/24</td>
<td>æœåŠ¡å™¨åŒº</td>
<td>10.1.50.1</td>
</tr>
<tr>
<td>60</td>
<td>DMZ</td>
<td>10.1.60.0/24</td>
<td>DMZåŒºåŸŸ</td>
<td>10.1.60.1</td>
</tr>
<tr>
<td>400</td>
<td>WiFi-Guest</td>
<td>10.1.400.0/24</td>
<td>è®¿å®¢æ— çº¿</td>
<td>10.1.400.1</td>
</tr>
<tr>
<td>500</td>
<td>WiFi-Office</td>
<td>10.1.500.0/24</td>
<td>åŠå…¬æ— çº¿</td>
<td>10.1.500.1</td>
</tr>
<tr>
<td>999</td>
<td>Native</td>
<td>-</td>
<td>åŸç”ŸVLAN</td>
<td>-</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>2.2 VLANè®¾è®¡åŸåˆ™</h3>
<ol>
<li><strong>å®‰å…¨éš”ç¦»</strong>ï¼šä¸åŒéƒ¨é—¨/åŠŸèƒ½åŒºåŸŸç‹¬ç«‹VLAN</li>
<li><strong>ä¾¿äºç®¡ç†</strong>ï¼šVLAN IDä¸æ¥¼å±‚/åŠŸèƒ½å¯¹åº”</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šé¢„ç•™VLAN IDç©ºé—´</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¹¿æ’­åŸŸæ§åˆ¶åœ¨åˆç†èŒƒå›´</li>
</ol>
<h2>3. IPåœ°å€è§„åˆ’</h2>
<h3>3.1 åœ°å€åˆ†é…åŸåˆ™</h3>
<ul>
<li><strong>ç§æœ‰åœ°å€</strong>ï¼šä½¿ç”¨RFC1918ç§æœ‰åœ°å€æ®µ</li>
<li><strong>å±‚æ¬¡åŒ–</strong>ï¼šæŒ‰æ¥¼å±‚å’ŒåŠŸèƒ½åˆ†é…</li>
<li><strong>é¢„ç•™ç©ºé—´</strong>ï¼šæ¯ä¸ªç½‘æ®µé¢„ç•™30%åœ°å€</li>
<li><strong>ç®¡ç†åœ°å€</strong>ï¼šè®¾å¤‡ç®¡ç†ä½¿ç”¨ç‹¬ç«‹ç½‘æ®µ</li>
</ul>
<h3>3.2 è®¾å¤‡IPåœ°å€åˆ†é…</h3>
<h3>æ ¸å¿ƒè®¾å¤‡</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡</strong></th>
<th><strong>æ¥å£</strong></th>
<th><strong>IPåœ°å€</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Core-SW1</td>
<td>VLANIF10</td>
<td>192.168.10.2</td>
<td>ç®¡ç†åœ°å€</td>
</tr>
<tr>
<td>Core-SW2</td>
<td>VLANIF10</td>
<td>192.168.10.3</td>
<td>ç®¡ç†åœ°å€</td>
</tr>
<tr>
<td>Router1</td>
<td>GE0/0/0</td>
<td>å…¬ç½‘IP</td>
<td>å¤–ç½‘æ¥å£</td>
</tr>
<tr>
<td>Router1</td>
<td>GE0/0/1</td>
<td>10.1.1.1</td>
<td>å†…ç½‘æ¥å£</td>
</tr>
<tr>
<td>Router2</td>
<td>GE0/0/0</td>
<td>å…¬ç½‘IP</td>
<td>å¤–ç½‘æ¥å£</td>
</tr>
<tr>
<td>Router2</td>
<td>GE0/0/1</td>
<td>10.1.1.2</td>
<td>å†…ç½‘æ¥å£</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>æ±‡èšäº¤æ¢æœº</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡</strong></th>
<th><strong>IPåœ°å€</strong></th>
<th><strong>ä½ç½®</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Agg-SW1-1F</td>
<td>192.168.10.11</td>
<td>ä¸€æ¥¼æ±‡èš1</td>
</tr>
<tr>
<td>Agg-SW2-1F</td>
<td>192.168.10.12</td>
<td>ä¸€æ¥¼æ±‡èš2</td>
</tr>
<tr>
<td>Agg-SW1-2F</td>
<td>192.168.10.21</td>
<td>äºŒæ¥¼æ±‡èš1</td>
</tr>
<tr>
<td>Agg-SW2-2F</td>
<td>192.168.10.22</td>
<td>äºŒæ¥¼æ±‡èš2</td>
</tr>
<tr>
<td>Agg-SW1-3F</td>
<td>192.168.10.31</td>
<td>ä¸‰æ¥¼æ±‡èš1</td>
</tr>
<tr>
<td>Agg-SW2-3F</td>
<td>192.168.10.32</td>
<td>ä¸‰æ¥¼æ±‡èš2</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>3.3 DHCPåœ°å€æ± </h3>
<p>æ¯ä¸ªVLANé…ç½®DHCPåœ°å€æ± ï¼Œè‡ªåŠ¨åˆ†é…IPåœ°å€ï¼š</p>
<ul>
<li>åœ°å€èŒƒå›´ï¼šç½‘æ®µçš„50%-90%</li>
<li>ç§ŸæœŸï¼š8å°æ—¶ï¼ˆåŠå…¬æ—¶é—´ï¼‰</li>
<li>DNSæœåŠ¡å™¨ï¼š114.114.114.114, 8.8.8.8</li>
<li>åŸŸåï¼šcompany.local</li>
</ul>
<h2>4. è·¯ç”±è®¾è®¡</h2>
<h3>4.1 è·¯ç”±åè®®</h3>
<ul>
<li><strong>å†…éƒ¨è·¯ç”±</strong>ï¼šOSPFï¼ˆOpen Shortest Path Firstï¼‰</li>
<li><strong>å¤–éƒ¨è·¯ç”±</strong>ï¼šBGPï¼ˆBorder Gateway Protocolï¼‰</li>
<li><strong>é»˜è®¤è·¯ç”±</strong>ï¼šæŒ‡å‘å‡ºå£è·¯ç”±å™¨</li>
</ul>
<h3>4.2 OSPFåŒºåŸŸè§„åˆ’</h3>
<ul>
<li><strong>Area 0</strong>ï¼šéª¨å¹²åŒºåŸŸï¼ŒåŒ…å«æ ¸å¿ƒè®¾å¤‡</li>
<li><strong>Area 1</strong>ï¼šåŠå…¬åŒºåŸŸ</li>
<li><strong>Area 2</strong>ï¼šæœåŠ¡å™¨åŒºåŸŸ</li>
<li><strong>Area 3</strong>ï¼šDMZåŒºåŸŸ</li>
</ul>
<h2>5. å®‰å…¨è®¾è®¡</h2>
<h3>5.1 ç½‘ç»œå®‰å…¨ç­–ç•¥</h3>
<ol>
<li><strong>è¾¹ç•Œé˜²æŠ¤</strong>ï¼šéƒ¨ç½²é˜²ç«å¢™ï¼Œæ§åˆ¶å—åŒ—å‘æµé‡</li>
<li><strong>å†…ç½‘éš”ç¦»</strong>ï¼šVLANéš”ç¦»ï¼ŒACLè®¿é—®æ§åˆ¶</li>
<li><strong>æ— çº¿å®‰å…¨</strong>ï¼šWPA3åŠ å¯†ï¼ŒMACåœ°å€è®¤è¯</li>
<li><strong>è®¾å¤‡å®‰å…¨</strong>ï¼šSSHç®¡ç†ï¼ŒSNMP v3</li>
</ol>
<h3>5.2 è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰</h3>
<ul>
<li>ç¦æ­¢åŠå…¬ç½‘è®¿é—®æœåŠ¡å™¨ç®¡ç†ç«¯å£</li>
<li>å…è®¸ç‰¹å®šç®¡ç†å‘˜è®¿é—®è®¾å¤‡ç®¡ç†VLAN</li>
<li>é™åˆ¶è®¿å®¢ç½‘ç»œè®¿é—®å†…ç½‘èµ„æº</li>
<li>é˜²æ­¢VLANé—´éæˆæƒè®¿é—®</li>
</ul>
<h2>6. QoSè®¾è®¡</h2>
<h3>6.1 æµé‡åˆ†ç±»</h3>
<ul>
<li><strong>è¯­éŸ³æµé‡</strong>ï¼šæœ€é«˜ä¼˜å…ˆçº§ï¼ˆEFï¼‰</li>
<li><strong>è§†é¢‘æµé‡</strong>ï¼šé«˜ä¼˜å…ˆçº§ï¼ˆAF41ï¼‰</li>
<li><strong>å…³é”®ä¸šåŠ¡</strong>ï¼šä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆAF31ï¼‰</li>
<li><strong>æ™®é€šæ•°æ®</strong>ï¼šé»˜è®¤ä¼˜å…ˆçº§ï¼ˆBEï¼‰</li>
</ul>
<h3>6.2 å¸¦å®½ä¿è¯</h3>
<ul>
<li>è¯­éŸ³æµé‡ï¼šä¿è¯å¸¦å®½ï¼Œä½å»¶è¿Ÿ</li>
<li>è§†é¢‘ä¼šè®®ï¼šä¿è¯å¸¦å®½ï¼Œä½æŠ–åŠ¨</li>
<li>å…³é”®ä¸šåŠ¡ï¼šå¸¦å®½ä¿è¯50%</li>
<li>æ™®é€šä¸Šç½‘ï¼šå‰©ä½™å¸¦å®½</li>
</ul>
<h2>7. ç½‘ç»œç®¡ç†</h2>
<h3>7.1 ç›‘æ§æŒ‡æ ‡</h3>
<ul>
<li><strong>è®¾å¤‡çŠ¶æ€</strong>ï¼šCPUã€å†…å­˜ã€æ¸©åº¦</li>
<li><strong>æ¥å£çŠ¶æ€</strong>ï¼šå¸¦å®½åˆ©ç”¨ç‡ã€é”™è¯¯åŒ…</li>
<li><strong>ç½‘ç»œæ€§èƒ½</strong>ï¼šå»¶è¿Ÿã€ä¸¢åŒ…ç‡ã€ååé‡</li>
<li><strong>å®‰å…¨äº‹ä»¶</strong>ï¼šå…¥ä¾µæ£€æµ‹ã€å¼‚å¸¸æµé‡</li>
</ul>
<h3>7.2 ç®¡ç†å·¥å…·</h3>
<ul>
<li><strong>åä¸ºeSight</strong>ï¼šç»Ÿä¸€ç½‘ç®¡å¹³å°</li>
<li><strong>SNMPç›‘æ§</strong>ï¼šå®æ—¶çŠ¶æ€ç›‘æ§</li>
<li><strong>Syslogæ—¥å¿—</strong>ï¼šé›†ä¸­æ—¥å¿—ç®¡ç†</li>
<li><strong>NetStreamåˆ†æ</strong>ï¼šæµé‡åˆ†æ</li>
</ul>
<h2>8. å®¹ç¾å¤‡ä»½</h2>
<h3>8.1 è®¾å¤‡å†—ä½™</h3>
<ul>
<li>æ ¸å¿ƒäº¤æ¢æœºï¼šåŒæœºçƒ­å¤‡</li>
<li>å‡ºå£è·¯ç”±å™¨ï¼šåŒæœºçƒ­å¤‡</li>
<li>é˜²ç«å¢™ï¼šåŒæœºçƒ­å¤‡</li>
<li>æ— çº¿æ§åˆ¶å™¨ï¼šåŒæœºçƒ­å¤‡</li>
</ul>
<h3>8.2 é“¾è·¯å†—ä½™</h3>
<ul>
<li>æ ¸å¿ƒåˆ°æ±‡èšï¼šåŒé“¾è·¯èšåˆ</li>
<li>æ±‡èšåˆ°æ¥å…¥ï¼šåŒä¸Šè”ï¼ˆéƒ¨åˆ†å…³é”®åŒºåŸŸï¼‰</li>
<li>å¤–ç½‘é“¾è·¯ï¼šåŒè¿è¥å•†æ¥å…¥</li>
</ul>
<h2>9. æ‰©å±•è§„åˆ’</h2>
<h3>9.1 ç«¯å£æ‰©å±•</h3>
<ul>
<li>æ¥å…¥å±‚é¢„ç•™30%ç«¯å£</li>
<li>æ±‡èšå±‚é¢„ç•™40%ç«¯å£</li>
<li>æ ¸å¿ƒå±‚é¢„ç•™50%ç«¯å£</li>
</ul>
<h3>9.2 å¸¦å®½æ‰©å±•</h3>
<ul>
<li>æ ¸å¿ƒéª¨å¹²ï¼šæ”¯æŒ40Gæ‰©å±•åˆ°100G</li>
<li>æ±‡èšä¸Šè”ï¼šæ”¯æŒä¸‡å…†æ‰©å±•</li>
<li>æ¥å…¥ä¸‹è”ï¼šå…¨åƒå…†éƒ¨ç½²</li>
</ul>
<h3>9.3 åŠŸèƒ½æ‰©å±•</h3>
<ul>
<li>é¢„ç•™æœåŠ¡å™¨æœºæŸœç©ºé—´</li>
<li>æ”¯æŒäº‘ç½‘èåˆ</li>
<li>é¢„ç•™IoTè®¾å¤‡æ¥å…¥</li>
<li>æ”¯æŒSD-WANéƒ¨ç½²</li>
</ul>
<h1>äºŒ. é‡‡è´­è®¾å¤‡è¯´æ˜</h1>
<h2>åŠå…¬å®¤åŸºæœ¬ä¿¡æ¯</h2>
<ul>
<li>æ€»é¢ç§¯ï¼š3000å¹³ç±³</li>
<li>é¢„è®¡å·¥ä½ï¼š300ä¸ª</li>
<li>æ¥¼å±‚ï¼š3å±‚ï¼Œæ¯å±‚1000å¹³ç±³</li>
<li>ä¼šè®®å®¤ï¼š15ä¸ª</li>
<li>æœåŠ¡å™¨æœºæˆ¿ï¼š1ä¸ªï¼ˆ50å¹³ç±³ï¼‰</li>
</ul>
<h2>æ ¸å¿ƒè®¾å¤‡æ¸…å•</h2>
<h3>1. æ ¸å¿ƒäº¤æ¢æœº</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºS12700E-6</td>
<td>2å°</td>
<td>48ç«¯å£ä¸‡å…†+4ç«¯å£40G</td>
<td>æ ¸å¿ƒå±‚ï¼ŒåŒæœºçƒ­å¤‡</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>2. æ±‡èšäº¤æ¢æœº</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºS5735-L48T4S-A1</td>
<td>6å°</td>
<td>48ç«¯å£åƒå…†+4ç«¯å£ä¸‡å…†SFP+</td>
<td>æ¯å±‚2å°ï¼Œæ±‡èšå±‚</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>3. æ¥å…¥äº¤æ¢æœº</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºS2750-28TP-PWR-EI</td>
<td>20å°</td>
<td>24ç«¯å£åƒå…†PoE+4ç«¯å£åƒå…†SFP</td>
<td>æ¥å…¥å±‚ï¼Œæ”¯æŒPoEä¾›ç”µ</td>
</tr>
<tr>
<td>åä¸ºS2750-52P-EI</td>
<td>10å°</td>
<td>48ç«¯å£åƒå…†+4ç«¯å£åƒå…†SFP</td>
<td>é«˜å¯†åº¦æ¥å…¥</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>4. è·¯ç”±å™¨</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºAR6300-S</td>
<td>2å°</td>
<td>åŒæœºçƒ­å¤‡</td>
<td>å‡ºå£è·¯ç”±å™¨</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>5. é˜²ç«å¢™</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºUSG6650</td>
<td>2å°</td>
<td>ååé‡20Gbps</td>
<td>è¾¹ç•Œå®‰å…¨é˜²æŠ¤</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>6. æ— çº¿è®¾å¤‡</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºAC6605</td>
<td>2å°</td>
<td>æ”¯æŒ1024ä¸ªAP</td>
<td>æ— çº¿æ§åˆ¶å™¨ï¼ŒåŒæœºçƒ­å¤‡</td>
</tr>
<tr>
<td>åä¸ºAP7060DN</td>
<td>60å°</td>
<td>Wi-Fi 6ï¼ŒåŒé¢‘</td>
<td>å®¤å†…æ— çº¿æ¥å…¥ç‚¹</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>7. æœåŠ¡å™¨è®¾å¤‡</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºFusionServer 2288H V5</td>
<td>4å°</td>
<td>2Uæœºæ¶æœåŠ¡å™¨</td>
<td>åº”ç”¨æœåŠ¡å™¨</td>
</tr>
<tr>
<td>åä¸ºOceanStor 2600 V5</td>
<td>1å¥—</td>
<td>å­˜å‚¨é˜µåˆ—</td>
<td>æ•°æ®å­˜å‚¨</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>8. ç½‘ç»œç®¡ç†</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th><strong>è®¾å¤‡å‹å·</strong></th>
<th><strong>æ•°é‡</strong></th>
<th><strong>è§„æ ¼</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>åä¸ºeSight</td>
<td>1å¥—</td>
<td>ç½‘ç®¡è½¯ä»¶</td>
<td>ç»Ÿä¸€ç½‘ç»œç®¡ç†</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h2>çº¿ç¼†åŠé…ä»¶</h2>
<h3>å…‰çº¤çº¿ç¼†</h3>
<ul>
<li>ä¸‡å…†å¤šæ¨¡å…‰çº¤ï¼š200ç±³</li>
<li>åƒå…†å¤šæ¨¡å…‰çº¤ï¼š500ç±³</li>
<li>ä¸‡å…†å•æ¨¡å…‰çº¤ï¼š100ç±³</li>
</ul>
<h3>ç½‘çº¿</h3>
<ul>
<li>å…­ç±»ç½‘çº¿ï¼š15000ç±³</li>
<li>è¶…å…­ç±»ç½‘çº¿ï¼š5000ç±³</li>
</ul>
<h3>æœºæŸœåŠé…ä»¶</h3>
<ul>
<li>42Uæ ‡å‡†æœºæŸœï¼š8ä¸ª</li>
<li>24Uå£æŒ‚æœºæŸœï¼š15ä¸ª</li>
<li>PDUç”µæºï¼š30ä¸ª</li>
<li>ç†çº¿å™¨ï¼š100ä¸ª</li>
</ul>
<h2>è®¾å¤‡ç‰¹ç‚¹</h2>
<ol>
<li><strong>é«˜å¯é æ€§</strong>ï¼šæ ¸å¿ƒè®¾å¤‡åŒæœºçƒ­å¤‡ï¼Œ99.99%å¯ç”¨æ€§</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šä¸‡å…†éª¨å¹²ï¼Œåƒå…†åˆ°æ¡Œé¢</li>
<li><strong>PoEä¾›ç”µ</strong>ï¼šæ”¯æŒIPç”µè¯ã€æ— çº¿APä¾›ç”µ</li>
<li><strong>ç»¿è‰²èŠ‚èƒ½</strong>ï¼šåä¸ºè®¾å¤‡åŠŸè€—ä¼˜åŒ–</li>
<li><strong>æ˜“æ‰©å±•</strong>ï¼šé¢„ç•™30%ç«¯å£æ‰©å±•ç©ºé—´</li>
</ol>
<h1>ä¸‰. ä¸»è¦ç½‘ç»œè®¾å¤‡é…ç½®éƒ¨ç½²</h1>
<h3>é…ç½®åŸåˆ™</h3>
<ol>
<li><strong>è‡ªä¸‹è€Œä¸Š</strong>ï¼šä»æ ¸å¿ƒè®¾å¤‡å¼€å§‹ï¼Œé€æ­¥å‘æ¥å…¥è®¾å¤‡é…ç½®</li>
<li><strong>å…ˆåŸºç¡€åé«˜çº§</strong>ï¼šå…ˆé…ç½®åŸºæœ¬è¿é€šæ€§ï¼Œå†é…ç½®é«˜çº§åŠŸèƒ½</li>
<li><strong>åˆ†é˜¶æ®µéªŒè¯</strong>ï¼šæ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œè¿é€šæ€§æµ‹è¯•</li>
<li><strong>å¤‡ä»½é…ç½®</strong>ï¼šæ¯æ¬¡é‡è¦é…ç½®ååŠæ—¶ä¿å­˜</li>
</ol>
<h2>ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒè®¾å¤‡åŸºç¡€é…ç½®</h2>
<h3>1.1 æ ¸å¿ƒäº¤æ¢æœº1é…ç½®ï¼ˆCore-Switch-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º S12700E-6</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.11/24</li>
<li><strong>è§’è‰²</strong>ï¼šä¸»æ ¸å¿ƒäº¤æ¢æœº</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåˆå§‹åŒ–è®¾å¤‡</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é€šè¿‡Consoleå£è¿æ¥è®¾å¤‡
# é¦–æ¬¡å¯åŠ¨ï¼Œè¿›å…¥ç³»ç»Ÿè§†å›¾
&lt;Huawei&gt;system-view
[Huawei]sysname Core-Switch-1
[Core-Switch-1]clock timezone BJ add 08:00:00
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºç®¡ç†ç”¨æˆ·</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºæœ¬åœ°ç”¨æˆ·
[Core-Switch-1]aaa
[Core-Switch-1-aaa]local-user admin password cipher Huawei@123
[Core-Switch-1-aaa]local-user admin privilege level 15
[Core-Switch-1-aaa]local-user admin service-type ssh telnet terminal
[Core-Switch-1-aaa]quit

# é…ç½®ç”¨æˆ·ç•Œé¢
[Core-Switch-1]user-interface vty 0 4
[Core-Switch-1-ui-vty0-4]authentication-mode aaa
[Core-Switch-1-ui-vty0-4]protocol inbound ssh
[Core-Switch-1-ui-vty0-4]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®SSHæœåŠ¡</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># ç”ŸæˆRSAå¯†é’¥
[Core-Switch-1]rsa local-key-pair create
# å¯ç”¨SSHæœåŠ¡
[Core-Switch-1]ssh server enable
[Core-Switch-1]stelnet server enable
</code></pre>
<p><strong>æ­¥éª¤4ï¼šåˆ›å»ºç®¡ç†VLAN</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºç®¡ç†VLAN
[Core-Switch-1]vlan 10
[Core-Switch-1-vlan10]description Management
[Core-Switch-1-vlan10]quit

# é…ç½®ç®¡ç†æ¥å£
[Core-Switch-1]interface vlanif 10
[Core-Switch-1-Vlanif10]ip address 192.168.10.11 24
[Core-Switch-1-Vlanif10]quit
</code></pre>
<p><strong>æ­¥éª¤5ï¼šé…ç½®é»˜è®¤è·¯ç”±ï¼ˆä¸´æ—¶ï¼‰</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ä¸´æ—¶é»˜è®¤è·¯ç”±ç”¨äºç®¡ç†
[Core-Switch-1]ip route-static 0.0.0.0 0.0.0.0 192.168.10.1
</code></pre>
<p><strong>æ­¥éª¤6ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Core-Switch-1]save
# ç¡®è®¤ä¿å­˜
The current configuration will be written to the device.
Are you sure to continue?[Y/N]y
</code></pre>
<h3>1.2 æ ¸å¿ƒäº¤æ¢æœº2é…ç½®ï¼ˆCore-Switch-2ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º S12700E-6</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.12/24</li>
<li><strong>è§’è‰²</strong>ï¼šå¤‡æ ¸å¿ƒäº¤æ¢æœº</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>é‡å¤æ ¸å¿ƒäº¤æ¢æœº1çš„æ­¥éª¤1-6ï¼Œæ³¨æ„ä»¥ä¸‹å·®å¼‚ï¼š</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># è®¾å¤‡åç§°
[Huawei]sysname Core-Switch-2

# ç®¡ç†IPåœ°å€
[Core-Switch-2]interface vlanif 10
[Core-Switch-2-Vlanif10]ip address 192.168.10.12 24
</code></pre>
<h3>1.3 éªŒè¯æ ¸å¿ƒäº¤æ¢æœºåŸºç¡€è¿é€šæ€§</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># åœ¨Core-Switch-1ä¸Šæµ‹è¯•
[Core-Switch-1]ping 192.168.10.12
# åº”è¯¥èƒ½å¤Ÿpingé€šCore-Switch-2

# æµ‹è¯•SSHè¿æ¥
[Core-Switch-1]ssh client 192.168.10.12
</code></pre>
<h2>ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒè®¾å¤‡å®Œæ•´é…ç½®</h2>
<h3>2.1 æ ¸å¿ƒäº¤æ¢æœº1å®Œæ•´VLANé…ç½®</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºæ‰€æœ‰ä¸šåŠ¡VLAN
[Core-Switch-1]vlan batch 100 to 102 200 to 202 300 400 500 600

# é…ç½®VLANæè¿°
[Core-Switch-1]vlan 100
[Core-Switch-1-vlan100]description Office-1F
[Core-Switch-1-vlan100]quit

[Core-Switch-1]vlan 101
[Core-Switch-1-vlan101]description Office-2F
[Core-Switch-1-vlan101]quit

[Core-Switch-1]vlan 102
[Core-Switch-1-vlan102]description Office-3F
[Core-Switch-1-vlan102]quit

[Core-Switch-1]vlan 200
[Core-Switch-1-vlan200]description Meeting-1F
[Core-Switch-1-vlan200]quit

[Core-Switch-1]vlan 201
[Core-Switch-1-vlan201]description Meeting-2F
[Core-Switch-1-vlan201]quit

[Core-Switch-1]vlan 202
[Core-Switch-1-vlan202]description Meeting-3F
[Core-Switch-1-vlan202]quit

[Core-Switch-1]vlan 300
[Core-Switch-1-vlan300]description Server
[Core-Switch-1-vlan300]quit

[Core-Switch-1]vlan 400
[Core-Switch-1-vlan400]description DMZ
[Core-Switch-1-vlan400]quit

[Core-Switch-1]vlan 500
[Core-Switch-1-vlan500]description Guest-Wireless
[Core-Switch-1-vlan500]quit

[Core-Switch-1]vlan 600
[Core-Switch-1-vlan600]description Office-Wireless
[Core-Switch-1-vlan600]quit
</code></pre>
<h3>2.2 é…ç½®VLANIFæ¥å£å’ŒDHCPä¸­ç»§</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®åŠå…¬åŒºVLANIFæ¥å£
[Core-Switch-1]interface vlanif 100
[Core-Switch-1-Vlanif100]ip address 192.168.100.252 24
[Core-Switch-1-Vlanif100]dhcp select relay
[Core-Switch-1-Vlanif100]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif100]quit

[Core-Switch-1]interface vlanif 101
[Core-Switch-1-Vlanif101]ip address 192.168.101.252 24
[Core-Switch-1-Vlanif101]dhcp select relay
[Core-Switch-1-Vlanif101]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif101]quit

[Core-Switch-1]interface vlanif 102
[Core-Switch-1-Vlanif102]ip address 192.168.102.252 24
[Core-Switch-1-Vlanif102]dhcp select relay
[Core-Switch-1-Vlanif102]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif102]quit

# é…ç½®ä¼šè®®å®¤VLANIFæ¥å£
[Core-Switch-1]interface vlanif 200
[Core-Switch-1-Vlanif200]ip address 192.168.200.252 24
[Core-Switch-1-Vlanif200]dhcp select relay
[Core-Switch-1-Vlanif200]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif200]quit

[Core-Switch-1]interface vlanif 201
[Core-Switch-1-Vlanif201]ip address 192.168.201.252 24
[Core-Switch-1-Vlanif201]dhcp select relay
[Core-Switch-1-Vlanif201]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif201]quit

[Core-Switch-1]interface vlanif 202
[Core-Switch-1-Vlanif202]ip address 192.168.202.252 24
[Core-Switch-1-Vlanif202]dhcp select relay
[Core-Switch-1-Vlanif202]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif202]quit

# é…ç½®æœåŠ¡å™¨å’ŒDMZ VLANIFæ¥å£
[Core-Switch-1]interface vlanif 300
[Core-Switch-1-Vlanif300]ip address 192.168.30.252 24
[Core-Switch-1-Vlanif300]quit

[Core-Switch-1]interface vlanif 400
[Core-Switch-1-Vlanif400]ip address 192.168.40.252 24
[Core-Switch-1-Vlanif400]quit

# é…ç½®æ— çº¿VLANIFæ¥å£
[Core-Switch-1]interface vlanif 500
[Core-Switch-1-Vlanif500]ip address 192.168.50.252 24
[Core-Switch-1-Vlanif500]dhcp select relay
[Core-Switch-1-Vlanif500]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif500]quit

[Core-Switch-1]interface vlanif 600
[Core-Switch-1-Vlanif600]ip address 192.168.60.252 24
[Core-Switch-1-Vlanif600]dhcp select relay
[Core-Switch-1-Vlanif600]dhcp relay server-ip 192.168.10.100
[Core-Switch-1-Vlanif600]quit
</code></pre>
<h3>2.3 é…ç½®ç‰©ç†æ¥å£</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®è¿æ¥æ ¸å¿ƒäº¤æ¢æœº2çš„æ¥å£ï¼ˆé“¾è·¯èšåˆï¼‰
[Core-Switch-1]interface eth-trunk 1
[Core-Switch-1-Eth-Trunk1]description Link-to-Core-Switch-2
[Core-Switch-1-Eth-Trunk1]port link-type trunk
[Core-Switch-1-Eth-Trunk1]port trunk allow-pass vlan all
[Core-Switch-1-Eth-Trunk1]quit

[Core-Switch-1]interface 10ge 1/0/1
[Core-Switch-1-10GE1/0/1]eth-trunk 1
[Core-Switch-1-10GE1/0/1]quit

[Core-Switch-1]interface 10ge 1/0/2
[Core-Switch-1-10GE1/0/2]eth-trunk 1
[Core-Switch-1-10GE1/0/2]quit

# é…ç½®è¿æ¥å‡ºå£è·¯ç”±å™¨çš„æ¥å£
[Core-Switch-1]interface 10ge 1/0/3
[Core-Switch-1-10GE1/0/3]description Link-to-Router-1
[Core-Switch-1-10GE1/0/3]port link-type trunk
[Core-Switch-1-10GE1/0/3]port trunk allow-pass vlan 10 300 400
[Core-Switch-1-10GE1/0/3]quit

# é…ç½®è¿æ¥æ±‡èšäº¤æ¢æœºçš„æ¥å£
[Core-Switch-1]interface 10ge 1/0/4
[Core-Switch-1-10GE1/0/4]description Link-to-Agg-Switch-1F-1
[Core-Switch-1-10GE1/0/4]port link-type trunk
[Core-Switch-1-10GE1/0/4]port trunk allow-pass vlan 10 100 200 500 600
[Core-Switch-1-10GE1/0/4]quit

[Core-Switch-1]interface 10ge 1/0/5
[Core-Switch-1-10GE1/0/5]description Link-to-Agg-Switch-1F-2
[Core-Switch-1-10GE1/0/5]port link-type trunk
[Core-Switch-1-10GE1/0/5]port trunk allow-pass vlan 10 100 200 500 600
[Core-Switch-1-10GE1/0/5]quit

# ç»§ç»­é…ç½®å…¶ä»–æ±‡èšäº¤æ¢æœºè¿æ¥...
</code></pre>
<h3>2.4 é…ç½®OSPFè·¯ç”±åè®®</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># å¯ç”¨OSPF
[Core-Switch-1]ospf 1 router-id 192.168.10.11
[Core-Switch-1-ospf-1]area 0
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.10.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.100.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.101.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.102.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.200.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.201.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.202.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.30.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.40.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.50.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]network 192.168.60.0 0.0.0.255
[Core-Switch-1-ospf-1-area-0.0.0.0]quit
[Core-Switch-1-ospf-1]quit
</code></pre>
<h3>2.5 é…ç½®VRRPï¼ˆç½‘å…³å†—ä½™ï¼‰</h3>
<pre lang="cli" class="notranslate"><code class="notranslate"># åœ¨å„VLANIFæ¥å£é…ç½®VRRP
[Core-Switch-1]interface vlanif 100
[Core-Switch-1-Vlanif100]vrrp vrid 100 virtual-ip 192.168.100.254
[Core-Switch-1-Vlanif100]vrrp vrid 100 priority 120
[Core-Switch-1-Vlanif100]vrrp vrid 100 preempt-mode timer delay 20
[Core-Switch-1-Vlanif100]quit

[Core-Switch-1]interface vlanif 101
[Core-Switch-1-Vlanif101]vrrp vrid 101 virtual-ip 192.168.101.254
[Core-Switch-1-Vlanif101]vrrp vrid 101 priority 120
[Core-Switch-1-Vlanif101]vrrp vrid 101 preempt-mode timer delay 20
[Core-Switch-1-Vlanif101]quit

# ç»§ç»­é…ç½®å…¶ä»–VLANçš„VRRP...
</code></pre>
<h3>2.6 ä¿å­˜æ ¸å¿ƒäº¤æ¢æœº1é…ç½®</h3>
<pre lang="cli" class="notranslate"><code class="notranslate">[Core-Switch-1]save
</code></pre>
<h3>2.7 æ ¸å¿ƒäº¤æ¢æœº2é…ç½®</h3>
<p><strong>é‡å¤2.1-2.6çš„é…ç½®ï¼Œæ³¨æ„ä»¥ä¸‹å·®å¼‚ï¼š</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># OSPF Router ID
[Core-Switch-2]ospf 1 router-id 192.168.10.12

# VRRPä¼˜å…ˆçº§ï¼ˆå¤‡è®¾å¤‡ä¼˜å…ˆçº§è¾ƒä½ï¼‰
[Core-Switch-2]interface vlanif 100
[Core-Switch-2-Vlanif100]vrrp vrid 100 virtual-ip 192.168.100.254
[Core-Switch-2-Vlanif100]vrrp vrid 100 priority 100
[Core-Switch-2-Vlanif100]quit
</code></pre>
<h2>ç¬¬ä¸‰é˜¶æ®µï¼šè·¯ç”±å™¨é…ç½®</h2>
<h3>3.1 å‡ºå£è·¯ç”±å™¨é…ç½®ï¼ˆRouter-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º AR6300-S</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.1/24</li>
<li><strong>è§’è‰²</strong>ï¼šä¸»å‡ºå£è·¯ç”±å™¨</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">&lt;Huawei&gt;system-view
[Huawei]sysname Router-1
[Router-1]clock timezone BJ add 08:00:00

# åˆ›å»ºç®¡ç†ç”¨æˆ·
[Router-1]aaa
[Router-1-aaa]local-user admin password cipher Huawei@123
[Router-1-aaa]local-user admin privilege level 15
[Router-1-aaa]local-user admin service-type ssh telnet terminal
[Router-1-aaa]quit

# é…ç½®SSH
[Router-1]user-interface vty 0 4
[Router-1-ui-vty0-4]authentication-mode aaa
[Router-1-ui-vty0-4]protocol inbound ssh
[Router-1-ui-vty0-4]quit

[Router-1]rsa local-key-pair create
[Router-1]ssh server enable
[Router-1]stelnet server enable
</code></pre>
<p><strong>æ­¥éª¤2ï¼šé…ç½®æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ç®¡ç†æ¥å£
[Router-1]interface gigabitethernet 0/0/0
[Router-1-GigabitEthernet0/0/0]description Management
[Router-1-GigabitEthernet0/0/0]ip address 192.168.10.1 24
[Router-1-GigabitEthernet0/0/0]quit

# é…ç½®å¤–ç½‘æ¥å£ï¼ˆè¿æ¥ISPï¼‰
[Router-1]interface gigabitethernet 0/0/1
[Router-1-GigabitEthernet0/0/1]description WAN-to-ISP
[Router-1-GigabitEthernet0/0/1]ip address 202.96.128.100 30
[Router-1-GigabitEthernet0/0/1]quit

# é…ç½®å†…ç½‘æ¥å£ï¼ˆè¿æ¥æ ¸å¿ƒäº¤æ¢æœºï¼‰
[Router-1]interface gigabitethernet 0/0/2
[Router-1-GigabitEthernet0/0/2]description LAN-to-Core
[Router-1-GigabitEthernet0/0/2]quit

# åˆ›å»ºå­æ¥å£
[Router-1]interface gigabitethernet 0/0/2.10
[Router-1-GigabitEthernet0/0/2.10]description Management-VLAN
[Router-1-GigabitEthernet0/0/2.10]dot1q termination vid 10
[Router-1-GigabitEthernet0/0/2.10]ip address 192.168.10.2 24
[Router-1-GigabitEthernet0/0/2.10]arp broadcast enable
[Router-1-GigabitEthernet0/0/2.10]quit

[Router-1]interface gigabitethernet 0/0/2.300
[Router-1-GigabitEthernet0/0/2.300]description Server-VLAN
[Router-1-GigabitEthernet0/0/2.300]dot1q termination vid 300
[Router-1-GigabitEthernet0/0/2.300]ip address 192.168.30.1 24
[Router-1-GigabitEthernet0/0/2.300]arp broadcast enable
[Router-1-GigabitEthernet0/0/2.300]quit

[Router-1]interface gigabitethernet 0/0/2.400
[Router-1-GigabitEthernet0/0/2.400]description DMZ-VLAN
[Router-1-GigabitEthernet0/0/2.400]dot1q termination vid 400
[Router-1-GigabitEthernet0/0/2.400]ip address 192.168.40.1 24
[Router-1-GigabitEthernet0/0/2.400]arp broadcast enable
[Router-1-GigabitEthernet0/0/2.400]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®è·¯ç”±</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®é»˜è®¤è·¯ç”±
[Router-1]ip route-static 0.0.0.0 0.0.0.0 202.96.128.101

# é…ç½®OSPF
[Router-1]ospf 1 router-id 192.168.10.1
[Router-1-ospf-1]default-route-advertise always
[Router-1-ospf-1]area 0
[Router-1-ospf-1-area-0.0.0.0]network 192.168.10.0 0.0.0.255
[Router-1-ospf-1-area-0.0.0.0]network 192.168.30.0 0.0.0.255
[Router-1-ospf-1-area-0.0.0.0]network 192.168.40.0 0.0.0.255
[Router-1-ospf-1-area-0.0.0.0]quit
[Router-1-ospf-1]quit
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé…ç½®NAT</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºACLç”¨äºNAT
[Router-1]acl number 2000
[Router-1-acl-basic-2000]rule 5 permit source 192.168.0.0 0.0.255.255
[Router-1-acl-basic-2000]quit

# é…ç½®NAT
[Router-1]nat address-group 1 202.96.128.100 202.96.128.100
[Router-1]interface gigabitethernet 0/0/1
[Router-1-GigabitEthernet0/0/1]nat outbound 2000 address-group 1
[Router-1-GigabitEthernet0/0/1]quit

# é…ç½®æœåŠ¡å™¨ç«¯å£æ˜ å°„ï¼ˆç¤ºä¾‹ï¼‰
[Router-1]nat server protocol tcp global 202.96.128.100 80 inside 192.168.30.10 80
[Router-1]nat server protocol tcp global 202.96.128.100 443 inside 192.168.30.10 443
</code></pre>
<p><strong>æ­¥éª¤5ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Router-1]save
</code></pre>
<h2>ç¬¬å››é˜¶æ®µï¼šé˜²ç«å¢™é…ç½®</h2>
<h3>4.1 é˜²ç«å¢™é…ç½®ï¼ˆFirewall-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º USG6650</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.20/24</li>
<li><strong>éƒ¨ç½²æ¨¡å¼</strong>ï¼šé€æ˜æ¨¡å¼</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">&lt;USG6650&gt;system-view
[USG6650]sysname Firewall-1
[Firewall-1]clock timezone BJ add 08:00:00

# åˆ›å»ºç®¡ç†ç”¨æˆ·
[Firewall-1]aaa
[Firewall-1-aaa]local-user admin password cipher Huawei@123
[Firewall-1-aaa]local-user admin privilege level 15
[Firewall-1-aaa]local-user admin service-type ssh web terminal
[Firewall-1-aaa]quit

# é…ç½®SSHå’ŒWebç®¡ç†
[Firewall-1]user-interface vty 0 4
[Firewall-1-ui-vty0-4]authentication-mode aaa
[Firewall-1-ui-vty0-4]protocol inbound ssh
[Firewall-1-ui-vty0-4]quit

[Firewall-1]rsa local-key-pair create
[Firewall-1]ssh server enable
[Firewall-1]stelnet server enable

[Firewall-1]web-manager enable
[Firewall-1]web-manager port 8443
</code></pre>
<p><strong>æ­¥éª¤2ï¼šé…ç½®æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ç®¡ç†æ¥å£
[Firewall-1]interface gigabitethernet 0/0/0
[Firewall-1-GigabitEthernet0/0/0]description Management
[Firewall-1-GigabitEthernet0/0/0]ip address 192.168.10.20 24
[Firewall-1-GigabitEthernet0/0/0]service-manage ping permit
[Firewall-1-GigabitEthernet0/0/0]service-manage ssh permit
[Firewall-1-GigabitEthernet0/0/0]service-manage https permit
[Firewall-1-GigabitEthernet0/0/0]quit

# é…ç½®å¤–ç½‘æ¥å£
[Firewall-1]interface gigabitethernet 1/0/0
[Firewall-1-GigabitEthernet1/0/0]description WAN-Interface
[Firewall-1-GigabitEthernet1/0/0]ip address 202.96.128.102 30
[Firewall-1-GigabitEthernet1/0/0]quit

# é…ç½®å†…ç½‘æ¥å£
[Firewall-1]interface gigabitethernet 1/0/1
[Firewall-1-GigabitEthernet1/0/1]description LAN-Interface
[Firewall-1-GigabitEthernet1/0/1]ip address 192.168.1.1 24
[Firewall-1-GigabitEthernet1/0/1]quit

# é…ç½®DMZæ¥å£
[Firewall-1]interface gigabitethernet 1/0/2
[Firewall-1-GigabitEthernet1/0/2]description DMZ-Interface
[Firewall-1-GigabitEthernet1/0/2]ip address 192.168.40.1 24
[Firewall-1-GigabitEthernet1/0/2]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®å®‰å…¨åŒºåŸŸ</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºå®‰å…¨åŒºåŸŸ
[Firewall-1]firewall zone trust
[Firewall-1-zone-trust]add interface gigabitethernet 1/0/1
[Firewall-1-zone-trust]quit

[Firewall-1]firewall zone untrust
[Firewall-1-zone-untrust]add interface gigabitethernet 1/0/0
[Firewall-1-zone-untrust]quit

[Firewall-1]firewall zone dmz
[Firewall-1-zone-dmz]add interface gigabitethernet 1/0/2
[Firewall-1-zone-dmz]quit

[Firewall-1]firewall zone local
[Firewall-1-zone-local]add interface gigabitethernet 0/0/0
[Firewall-1-zone-local]quit
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé…ç½®å®‰å…¨ç­–ç•¥</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># å†…ç½‘è®¿é—®å¤–ç½‘ç­–ç•¥
[Firewall-1]security-policy
[Firewall-1-policy-security]rule name trust_to_untrust
[Firewall-1-policy-security-rule-trust_to_untrust]source-zone trust
[Firewall-1-policy-security-rule-trust_to_untrust]destination-zone untrust
[Firewall-1-policy-security-rule-trust_to_untrust]action permit
[Firewall-1-policy-security-rule-trust_to_untrust]quit

# å¤–ç½‘è®¿é—®DMZç­–ç•¥
[Firewall-1-policy-security]rule name untrust_to_dmz
[Firewall-1-policy-security-rule-untrust_to_dmz]source-zone untrust
[Firewall-1-policy-security-rule-untrust_to_dmz]destination-zone dmz
[Firewall-1-policy-security-rule-untrust_to_dmz]destination-address 192.168.40.10 mask 255.255.255.255
[Firewall-1-policy-security-rule-untrust_to_dmz]service http https
[Firewall-1-policy-security-rule-untrust_to_dmz]action permit
[Firewall-1-policy-security-rule-untrust_to_dmz]quit

# å†…ç½‘è®¿é—®DMZç­–ç•¥
[Firewall-1-policy-security]rule name trust_to_dmz
[Firewall-1-policy-security-rule-trust_to_dmz]source-zone trust
[Firewall-1-policy-security-rule-trust_to_dmz]destination-zone dmz
[Firewall-1-policy-security-rule-trust_to_dmz]action permit
[Firewall-1-policy-security-rule-trust_to_dmz]quit

[Firewall-1-policy-security]quit
</code></pre>
<p><strong>æ­¥éª¤5ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Firewall-1]save
</code></pre>
<h2>ç¬¬äº”é˜¶æ®µï¼šæ±‡èšäº¤æ¢æœºé…ç½®</h2>
<h3>5.1 ä¸€æ¥¼æ±‡èšäº¤æ¢æœºé…ç½®ï¼ˆAgg-Switch-1F-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º S5735-L48T4S-A1</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.21/24</li>
<li><strong>è§’è‰²</strong>ï¼šä¸€æ¥¼æ±‡èšäº¤æ¢æœº1</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">&lt;Huawei&gt;system-view
[Huawei]sysname Agg-Switch-1F-1
[Agg-Switch-1F-1]clock timezone BJ add 08:00:00

# åˆ›å»ºç®¡ç†ç”¨æˆ·
[Agg-Switch-1F-1]aaa
[Agg-Switch-1F-1-aaa]local-user admin password cipher Huawei@123
[Agg-Switch-1F-1-aaa]local-user admin privilege level 15
[Agg-Switch-1F-1-aaa]local-user admin service-type ssh telnet terminal
[Agg-Switch-1F-1-aaa]quit

# é…ç½®SSH
[Agg-Switch-1F-1]user-interface vty 0 4
[Agg-Switch-1F-1-ui-vty0-4]authentication-mode aaa
[Agg-Switch-1F-1-ui-vty0-4]protocol inbound ssh
[Agg-Switch-1F-1-ui-vty0-4]quit

[Agg-Switch-1F-1]rsa local-key-pair create
[Agg-Switch-1F-1]ssh server enable
[Agg-Switch-1F-1]stelnet server enable
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºVLAN</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºç›¸å…³VLAN
[Agg-Switch-1F-1]vlan batch 10 100 200 500 600

# é…ç½®VLANæè¿°
[Agg-Switch-1F-1]vlan 10
[Agg-Switch-1F-1-vlan10]description Management
[Agg-Switch-1F-1-vlan10]quit

[Agg-Switch-1F-1]vlan 100
[Agg-Switch-1F-1-vlan100]description Office-1F
[Agg-Switch-1F-1-vlan100]quit

[Agg-Switch-1F-1]vlan 200
[Agg-Switch-1F-1-vlan200]description Meeting-1F
[Agg-Switch-1F-1-vlan200]quit

[Agg-Switch-1F-1]vlan 500
[Agg-Switch-1F-1-vlan500]description Guest-Wireless
[Agg-Switch-1F-1-vlan500]quit

[Agg-Switch-1F-1]vlan 600
[Agg-Switch-1F-1-vlan600]description Office-Wireless
[Agg-Switch-1F-1-vlan600]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®ç®¡ç†æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Agg-Switch-1F-1]interface vlanif 10
[Agg-Switch-1F-1-Vlanif10]ip address 192.168.10.21 24
[Agg-Switch-1F-1-Vlanif10]quit
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé…ç½®ä¸Šè”æ¥å£ï¼ˆè¿æ¥æ ¸å¿ƒäº¤æ¢æœºï¼‰</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ä¸Šè”æ¥å£1ï¼ˆè¿æ¥Core-Switch-1ï¼‰
[Agg-Switch-1F-1]interface gigabitethernet 0/0/49
[Agg-Switch-1F-1-GigabitEthernet0/0/49]description Uplink-to-Core-Switch-1
[Agg-Switch-1F-1-GigabitEthernet0/0/49]port link-type trunk
[Agg-Switch-1F-1-GigabitEthernet0/0/49]port trunk allow-pass vlan 10 100 200 500 600
[Agg-Switch-1F-1-GigabitEthernet0/0/49]quit

# é…ç½®ä¸Šè”æ¥å£2ï¼ˆè¿æ¥Core-Switch-2ï¼‰
[Agg-Switch-1F-1]interface gigabitethernet 0/0/50
[Agg-Switch-1F-1-GigabitEthernet0/0/50]description Uplink-to-Core-Switch-2
[Agg-Switch-1F-1-GigabitEthernet0/0/50]port link-type trunk
[Agg-Switch-1F-1-GigabitEthernet0/0/50]port trunk allow-pass vlan 10 100 200 500 600
[Agg-Switch-1F-1-GigabitEthernet0/0/50]quit
</code></pre>
<p><strong>æ­¥éª¤5ï¼šé…ç½®ä¸‹è”æ¥å£ï¼ˆè¿æ¥æ¥å…¥äº¤æ¢æœºï¼‰</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®è¿æ¥æ¥å…¥äº¤æ¢æœºçš„æ¥å£
[Agg-Switch-1F-1]interface gigabitethernet 0/0/1
[Agg-Switch-1F-1-GigabitEthernet0/0/1]description Link-to-Access-Switch-1F-Office-1
[Agg-Switch-1F-1-GigabitEthernet0/0/1]port link-type trunk
[Agg-Switch-1F-1-GigabitEthernet0/0/1]port trunk allow-pass vlan 10 100
[Agg-Switch-1F-1-GigabitEthernet0/0/1]quit

[Agg-Switch-1F-1]interface gigabitethernet 0/0/2
[Agg-Switch-1F-1-GigabitEthernet0/0/2]description Link-to-Access-Switch-1F-Office-2
[Agg-Switch-1F-1-GigabitEthernet0/0/2]port link-type trunk
[Agg-Switch-1F-1-GigabitEthernet0/0/2]port trunk allow-pass vlan 10 100
[Agg-Switch-1F-1-GigabitEthernet0/0/2]quit

[Agg-Switch-1F-1]interface gigabitethernet 0/0/3
[Agg-Switch-1F-1-GigabitEthernet0/0/3]description Link-to-Access-Switch-1F-Meeting
[Agg-Switch-1F-1-GigabitEthernet0/0/3]port link-type trunk
[Agg-Switch-1F-1-GigabitEthernet0/0/3]port trunk allow-pass vlan 10 200
[Agg-Switch-1F-1-GigabitEthernet0/0/3]quit
</code></pre>
<p><strong>æ­¥éª¤6ï¼šé…ç½®STP</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># å¯ç”¨STP
[Agg-Switch-1F-1]stp enable
[Agg-Switch-1F-1]stp mode rstp
[Agg-Switch-1F-1]stp priority 4096
</code></pre>
<p><strong>æ­¥éª¤7ï¼šé…ç½®OSPF</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Agg-Switch-1F-1]ospf 1 router-id 192.168.10.21
[Agg-Switch-1F-1-ospf-1]area 0
[Agg-Switch-1F-1-ospf-1-area-0.0.0.0]network 192.168.10.0 0.0.0.255
[Agg-Switch-1F-1-ospf-1-area-0.0.0.0]quit
[Agg-Switch-1F-1-ospf-1]quit
</code></pre>
<p><strong>æ­¥éª¤8ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Agg-Switch-1F-1]save
</code></pre>
<h2>ç¬¬å…­é˜¶æ®µï¼šæ¥å…¥äº¤æ¢æœºé…ç½®</h2>
<h3>6.1 ä¸€æ¥¼åŠå…¬åŒºæ¥å…¥äº¤æ¢æœºé…ç½®ï¼ˆAccess-Switch-1F-Office-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º S2750-28TP-PWR-EI</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.31/24</li>
<li><strong>è§’è‰²</strong>ï¼šä¸€æ¥¼åŠå…¬åŒºæ¥å…¥äº¤æ¢æœº1</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">&lt;Huawei&gt;system-view
[Huawei]sysname Access-Switch-1F-Office-1
[Access-Switch-1F-Office-1]clock timezone BJ add 08:00:00

# åˆ›å»ºç®¡ç†ç”¨æˆ·
[Access-Switch-1F-Office-1]aaa
[Access-Switch-1F-Office-1-aaa]local-user admin password cipher Huawei@123
[Access-Switch-1F-Office-1-aaa]local-user admin privilege level 15
[Access-Switch-1F-Office-1-aaa]local-user admin service-type ssh telnet terminal
[Access-Switch-1F-Office-1-aaa]quit

# é…ç½®SSH
[Access-Switch-1F-Office-1]user-interface vty 0 4
[Access-Switch-1F-Office-1-ui-vty0-4]authentication-mode aaa
[Access-Switch-1F-Office-1-ui-vty0-4]protocol inbound ssh
[Access-Switch-1F-Office-1-ui-vty0-4]quit

[Access-Switch-1F-Office-1]rsa local-key-pair create
[Access-Switch-1F-Office-1]ssh server enable
[Access-Switch-1F-Office-1]stelnet server enable
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºVLAN</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Access-Switch-1F-Office-1]vlan batch 10 100

[Access-Switch-1F-Office-1]vlan 10
[Access-Switch-1F-Office-1-vlan10]description Management
[Access-Switch-1F-Office-1-vlan10]quit

[Access-Switch-1F-Office-1]vlan 100
[Access-Switch-1F-Office-1-vlan100]description Office-1F
[Access-Switch-1F-Office-1-vlan100]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®ç®¡ç†æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Access-Switch-1F-Office-1]interface vlanif 10
[Access-Switch-1F-Office-1-Vlanif10]ip address 192.168.10.31 24
[Access-Switch-1F-Office-1-Vlanif10]quit
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé…ç½®ä¸Šè”æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Access-Switch-1F-Office-1]interface gigabitethernet 0/0/25
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]description Uplink-to-Agg-Switch-1F-1
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]port link-type trunk
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]port trunk allow-pass vlan 10 100
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]quit

[Access-Switch-1F-Office-1]interface gigabitethernet 0/0/26
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]description Uplink-to-Agg-Switch-1F-2
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]port link-type trunk
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]port trunk allow-pass vlan 10 100
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]quit
</code></pre>
<p><strong>æ­¥éª¤5ï¼šé…ç½®ç”¨æˆ·æ¥å…¥ç«¯å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># æ‰¹é‡é…ç½®ç”¨æˆ·ç«¯å£
[Access-Switch-1F-Office-1]port-group group-member ethernet 0/0/1 to ethernet 0/0/24
[Access-Switch-1F-Office-1-port-group]port link-type access
[Access-Switch-1F-Office-1-port-group]port default vlan 100
[Access-Switch-1F-Office-1-port-group]poe enable
[Access-Switch-1F-Office-1-port-group]port-security enable
[Access-Switch-1F-Office-1-port-group]port-security max-mac-num 3
[Access-Switch-1F-Office-1-port-group]quit

# å•ç‹¬é…ç½®ç‰¹æ®Šç«¯å£ï¼ˆå¦‚æ‰“å°æœºç«¯å£ï¼‰
[Access-Switch-1F-Office-1]interface ethernet 0/0/24
[Access-Switch-1F-Office-1-Ethernet0/0/24]description Printer-1F-Office-1
[Access-Switch-1F-Office-1-Ethernet0/0/24]port-security max-mac-num 1
[Access-Switch-1F-Office-1-Ethernet0/0/24]quit
</code></pre>
<p><strong>æ­¥éª¤6ï¼šé…ç½®STPå’Œå…¶ä»–åŠŸèƒ½</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># å¯ç”¨STP
[Access-Switch-1F-Office-1]stp enable
[Access-Switch-1F-Office-1]stp mode rstp

# é…ç½®ç¯è·¯æ£€æµ‹
[Access-Switch-1F-Office-1]loopback-detection enable
[Access-Switch-1F-Office-1]interface range ethernet 0/0/1 to ethernet 0/0/24
[Access-Switch-1F-Office-1-if-range]loopback-detection enable
[Access-Switch-1F-Office-1-if-range]loopback-detection action block
[Access-Switch-1F-Office-1-if-range]quit

# é…ç½®DHCP Snooping
[Access-Switch-1F-Office-1]dhcp snooping enable
[Access-Switch-1F-Office-1]dhcp snooping binding enable
[Access-Switch-1F-Office-1]interface vlan 100
[Access-Switch-1F-Office-1-Vlanif100]dhcp snooping enable
[Access-Switch-1F-Office-1-Vlanif100]quit

# é…ç½®ä¸Šè”å£ä¸ºä¿¡ä»»ç«¯å£
[Access-Switch-1F-Office-1]interface gigabitethernet 0/0/25
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]dhcp snooping trusted
[Access-Switch-1F-Office-1-GigabitEthernet0/0/25]quit

[Access-Switch-1F-Office-1]interface gigabitethernet 0/0/26
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]dhcp snooping trusted
[Access-Switch-1F-Office-1-GigabitEthernet0/0/26]quit
</code></pre>
<p><strong>æ­¥éª¤7ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Access-Switch-1F-Office-1]save
</code></pre>
<h2>ç¬¬ä¸ƒé˜¶æ®µï¼šæ— çº¿æ§åˆ¶å™¨é…ç½®</h2>
<h3>7.1 æ— çº¿æ§åˆ¶å™¨é…ç½®ï¼ˆWireless-Controller-1ï¼‰</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>è®¾å¤‡å‹å·</strong>ï¼šåä¸º AC6605</li>
<li><strong>ç®¡ç†IP</strong>ï¼š192.168.10.50/24</li>
<li><strong>è§’è‰²</strong>ï¼šä¸»æ— çº¿æ§åˆ¶å™¨</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">&lt;AC6605&gt;system-view
[AC6605]sysname Wireless-Controller-1
[Wireless-Controller-1]clock timezone BJ add 08:00:00

# åˆ›å»ºç®¡ç†ç”¨æˆ·
[Wireless-Controller-1]aaa
[Wireless-Controller-1-aaa]local-user admin password cipher Huawei@123
[Wireless-Controller-1-aaa]local-user admin privilege level 15
[Wireless-Controller-1-aaa]local-user admin service-type ssh web terminal
[Wireless-Controller-1-aaa]quit

# é…ç½®SSHå’ŒWebç®¡ç†
[Wireless-Controller-1]user-interface vty 0 4
[Wireless-Controller-1-ui-vty0-4]authentication-mode aaa
[Wireless-Controller-1-ui-vty0-4]protocol inbound ssh
[Wireless-Controller-1-ui-vty0-4]quit

[Wireless-Controller-1]rsa local-key-pair create
[Wireless-Controller-1]ssh server enable
[Wireless-Controller-1]stelnet server enable

[Wireless-Controller-1]web-manager enable
[Wireless-Controller-1]web-manager port 8443
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºVLAN</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Wireless-Controller-1]vlan batch 10 500 600

[Wireless-Controller-1]vlan 10
[Wireless-Controller-1-vlan10]description Management
[Wireless-Controller-1-vlan10]quit

[Wireless-Controller-1]vlan 500
[Wireless-Controller-1-vlan500]description Guest-Wireless
[Wireless-Controller-1-vlan500]quit

[Wireless-Controller-1]vlan 600
[Wireless-Controller-1-vlan600]description Office-Wireless
[Wireless-Controller-1-vlan600]quit
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®æ¥å£</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ç®¡ç†æ¥å£
[Wireless-Controller-1]interface vlanif 10
[Wireless-Controller-1-Vlanif10]ip address 192.168.10.50 24
[Wireless-Controller-1-Vlanif10]quit

# é…ç½®è®¿å®¢æ— çº¿ç½‘ç»œæ¥å£
[Wireless-Controller-1]interface vlanif 500
[Wireless-Controller-1-Vlanif500]ip address 192.168.50.1 24
[Wireless-Controller-1-Vlanif500]dhcp select relay
[Wireless-Controller-1-Vlanif500]dhcp relay server-ip 192.168.10.100
[Wireless-Controller-1-Vlanif500]quit

# é…ç½®åŠå…¬æ— çº¿ç½‘ç»œæ¥å£
[Wireless-Controller-1]interface vlanif 600
[Wireless-Controller-1-Vlanif600]ip address 192.168.60.1 24
[Wireless-Controller-1-Vlanif600]dhcp select relay
[Wireless-Controller-1-Vlanif600]dhcp relay server-ip 192.168.10.100
[Wireless-Controller-1-Vlanif600]quit

# é…ç½®ç‰©ç†æ¥å£
[Wireless-Controller-1]interface gigabitethernet 0/0/1
[Wireless-Controller-1-GigabitEthernet0/0/1]description Link-to-Core-Switch
[Wireless-Controller-1-GigabitEthernet0/0/1]port link-type trunk
[Wireless-Controller-1-GigabitEthernet0/0/1]port trunk allow-pass vlan 10 500 600
[Wireless-Controller-1-GigabitEthernet0/0/1]quit
</code></pre>
<p><strong>æ­¥éª¤4ï¼šé…ç½®æ— çº¿å°„é¢‘æ¨¡æ¿</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»º2.4GHzå°„é¢‘æ¨¡æ¿
[Wireless-Controller-1]wlan
[Wireless-Controller-1-wlan-view]radio-2g-profile name default_radio_2g
[Wireless-Controller-1-wlan-radio-2g-prof-default_radio_2g]channel-width 40
[Wireless-Controller-1-wlan-radio-2g-prof-default_radio_2g]channel auto
[Wireless-Controller-1-wlan-radio-2g-prof-default_radio_2g]power auto
[Wireless-Controller-1-wlan-radio-2g-prof-default_radio_2g]quit

# åˆ›å»º5GHzå°„é¢‘æ¨¡æ¿
[Wireless-Controller-1-wlan-view]radio-5g-profile name default_radio_5g
[Wireless-Controller-1-wlan-radio-5g-prof-default_radio_5g]channel-width 80
[Wireless-Controller-1-wlan-radio-5g-prof-default_radio_5g]channel auto
[Wireless-Controller-1-wlan-radio-5g-prof-default_radio_5g]power auto
[Wireless-Controller-1-wlan-radio-5g-prof-default_radio_5g]quit
</code></pre>
<p><strong>æ­¥éª¤5ï¼šé…ç½®SSIDå’Œå®‰å…¨æ¨¡æ¿</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºåŠå…¬SSIDå®‰å…¨æ¨¡æ¿
[Wireless-Controller-1-wlan-view]security-profile name office_security
[Wireless-Controller-1-wlan-sec-prof-office_security]security wpa-wpa2 psk pass-phrase Huawei@2024 aes
[Wireless-Controller-1-wlan-sec-prof-office_security]quit

# åˆ›å»ºè®¿å®¢SSIDå®‰å…¨æ¨¡æ¿
[Wireless-Controller-1-wlan-view]security-profile name guest_security
[Wireless-Controller-1-wlan-sec-prof-guest_security]security wpa2 psk pass-phrase Guest@123 aes
[Wireless-Controller-1-wlan-sec-prof-guest_security]quit

# åˆ›å»ºåŠå…¬SSIDæ¨¡æ¿
[Wireless-Controller-1-wlan-view]ssid-profile name office_ssid
[Wireless-Controller-1-wlan-ssid-prof-office_ssid]ssid Office-WiFi
[Wireless-Controller-1-wlan-ssid-prof-office_ssid]quit

# åˆ›å»ºè®¿å®¢SSIDæ¨¡æ¿
[Wireless-Controller-1-wlan-view]ssid-profile name guest_ssid
[Wireless-Controller-1-wlan-ssid-prof-guest_ssid]ssid Guest-WiFi
[Wireless-Controller-1-wlan-ssid-prof-guest_ssid]quit
</code></pre>
<p><strong>æ­¥éª¤6ï¼šåˆ›å»ºVAPæ¨¡æ¿</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºåŠå…¬VAPæ¨¡æ¿
[Wireless-Controller-1-wlan-view]vap-profile name office_vap
[Wireless-Controller-1-wlan-vap-prof-office_vap]forward-mode tunnel
[Wireless-Controller-1-wlan-vap-prof-office_vap]service-vlan vlan-id 600
[Wireless-Controller-1-wlan-vap-prof-office_vap]ssid-profile office_ssid
[Wireless-Controller-1-wlan-vap-prof-office_vap]security-profile office_security
[Wireless-Controller-1-wlan-vap-prof-office_vap]quit

# åˆ›å»ºè®¿å®¢VAPæ¨¡æ¿
[Wireless-Controller-1-wlan-view]vap-profile name guest_vap
[Wireless-Controller-1-wlan-vap-prof-guest_vap]forward-mode tunnel
[Wireless-Controller-1-wlan-vap-prof-guest_vap]service-vlan vlan-id 500
[Wireless-Controller-1-wlan-vap-prof-guest_vap]ssid-profile guest_ssid
[Wireless-Controller-1-wlan-vap-prof-guest_vap]security-profile guest_security
[Wireless-Controller-1-wlan-vap-prof-guest_vap]quit
</code></pre>
<p><strong>æ­¥éª¤7ï¼šåˆ›å»ºAPç»„å’ŒAPæ¨¡æ¿</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åˆ›å»ºAPç»„
[Wireless-Controller-1-wlan-view]ap-group name default_ap_group
[Wireless-Controller-1-wlan-ap-group-default_ap_group]quit

# åˆ›å»ºAPæ¨¡æ¿
[Wireless-Controller-1-wlan-view]ap-profile name default_ap_profile
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 0 radio-profile default_radio_2g
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 0 vap-profile office_vap wlan 1
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 0 vap-profile guest_vap wlan 2
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 1 radio-profile default_radio_5g
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 1 vap-profile office_vap wlan 1
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]radio 1 vap-profile guest_vap wlan 2
[Wireless-Controller-1-wlan-ap-prof-default_ap_profile]quit

# å°†APæ¨¡æ¿åº”ç”¨åˆ°APç»„
[Wireless-Controller-1-wlan-view]ap-group name default_ap_group
[Wireless-Controller-1-wlan-ap-group-default_ap_group]ap-profile default_ap_profile
[Wireless-Controller-1-wlan-ap-group-default_ap_group]quit
</code></pre>
<p><strong>æ­¥éª¤8ï¼šé…ç½®AP</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®ä¸€æ¥¼AP
[Wireless-Controller-1-wlan-view]ap auth-mode mac-auth
[Wireless-Controller-1-wlan-view]ap-id 1 ap-mac 00e0-fc12-3456
[Wireless-Controller-1-wlan-ap-1]ap-name AP-1F-Office-1
[Wireless-Controller-1-wlan-ap-1]ap-group default_ap_group
[Wireless-Controller-1-wlan-ap-1]quit

[Wireless-Controller-1-wlan-view]ap-id 2 ap-mac 00e0-fc12-3457
[Wireless-Controller-1-wlan-ap-2]ap-name AP-1F-Office-2
[Wireless-Controller-1-wlan-ap-2]ap-group default_ap_group
[Wireless-Controller-1-wlan-ap-2]quit

# ç»§ç»­é…ç½®å…¶ä»–æ¥¼å±‚APï¼ˆç¤ºä¾‹ï¼‰
[Wireless-Controller-1-wlan-view]ap-id 3 ap-mac 00e0-fc12-3458
[Wireless-Controller-1-wlan-ap-3]ap-name AP-2F-Office-1
[Wireless-Controller-1-wlan-ap-3]ap-group default_ap_group
[Wireless-Controller-1-wlan-ap-3]quit

[Wireless-Controller-1-wlan-view]quit
</code></pre>
<p><strong>æ­¥éª¤9ï¼šé…ç½®CAPWAP</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># é…ç½®CAPWAPæºæ¥å£
[Wireless-Controller-1]capwap source interface vlanif 10
</code></pre>
<p><strong>æ­¥éª¤10ï¼šä¿å­˜é…ç½®</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate">[Wireless-Controller-1]save
</code></pre>
<h2>ç¬¬å…«é˜¶æ®µï¼šDHCPæœåŠ¡å™¨é…ç½®</h2>
<h3>8.1 DHCPæœåŠ¡å™¨é…ç½®</h3>
<h3>è®¾å¤‡ä¿¡æ¯</h3>
<ul>
<li><strong>æœåŠ¡å™¨IP</strong>ï¼š192.168.10.100/24</li>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šLinux</li>
<li><strong>è§’è‰²</strong>ï¼šDHCPæœåŠ¡å™¨</li>
</ul>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šå®‰è£…DHCPæœåŠ¡</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> CentOS/RHELç³»ç»Ÿ</span>
sudo yum install dhcp -y

<span class="pl-c"><span class="pl-c">#</span> Ubuntu/Debianç³»ç»Ÿ</span>
sudo apt-get install isc-dhcp-server -y</pre></div>
<p><strong>æ­¥éª¤2ï¼šé…ç½®DHCPæœåŠ¡</strong></p>
<pre lang="conf" class="notranslate"><code class="notranslate"># ç¼–è¾‘DHCPé…ç½®æ–‡ä»¶
sudo vi /etc/dhcp/dhcpd.conf

# æ·»åŠ ä»¥ä¸‹é…ç½®å†…å®¹ï¼š
# å…¨å±€é…ç½®
default-lease-time 86400;
max-lease-time 172800;
authoritative;

# DNSæœåŠ¡å™¨
option domain-name-servers 114.114.114.114, 8.8.8.8;
option ntp-servers 192.168.10.1;

# ä¸€æ¥¼åŠå…¬åŒºDHCPæ± 
subnet 192.168.100.0 netmask 255.255.255.0 {
    range 192.168.100.10 192.168.100.200;
    option routers 192.168.100.254;
    option broadcast-address 192.168.100.255;
    default-lease-time 86400;
    max-lease-time 172800;
}

# äºŒæ¥¼åŠå…¬åŒºDHCPæ± 
subnet 192.168.101.0 netmask 255.255.255.0 {
    range 192.168.101.10 192.168.101.200;
    option routers 192.168.101.254;
    option broadcast-address 192.168.101.255;
    default-lease-time 86400;
    max-lease-time 172800;
}

# è®¿å®¢æ— çº¿ç½‘ç»œDHCPæ± 
subnet 192.168.50.0 netmask 255.255.255.0 {
    range 192.168.50.10 192.168.50.200;
    option routers 192.168.50.254;
    option broadcast-address 192.168.50.255;
    default-lease-time 3600;
    max-lease-time 7200;
}

# åŠå…¬æ— çº¿ç½‘ç»œDHCPæ± 
subnet 192.168.60.0 netmask 255.255.255.0 {
    range 192.168.60.10 192.168.60.200;
    option routers 192.168.60.254;
    option broadcast-address 192.168.60.255;
    default-lease-time 86400;
    max-lease-time 172800;
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šå¯åŠ¨DHCPæœåŠ¡</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯</span>
sudo systemctl start dhcpd
sudo systemctl <span class="pl-c1">enable</span> dhcpd

<span class="pl-c"><span class="pl-c">#</span> æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
sudo systemctl status dhcpd</pre></div>
<h2>ç¬¬ä¹é˜¶æ®µï¼šç½‘ç»œç®¡ç†å¹³å°é…ç½®</h2>
<h3>9.1 eSightç½‘ç®¡å¹³å°é…ç½®</h3>
<h3>é…ç½®æ­¥éª¤</h3>
<p><strong>æ­¥éª¤1ï¼šå®‰è£…eSight</strong></p>
<pre class="notranslate"><code class="notranslate"># åœ¨ç®¡ç†æœåŠ¡å™¨ä¸Šå®‰è£…eSight
# æŒ‰ç…§åä¸ºeSightå®‰è£…æŒ‡å—è¿›è¡Œå®‰è£…
</code></pre>
<p><strong>æ­¥éª¤2ï¼šæ·»åŠ è®¾å¤‡</strong></p>
<pre class="notranslate"><code class="notranslate"># é€šè¿‡Webç•Œé¢æ·»åŠ è®¾å¤‡
# è®¿é—® https://192.168.10.101:8443
# ä½¿ç”¨admin/Huawei@123ç™»å½•

# æ·»åŠ æ ¸å¿ƒäº¤æ¢æœº
è®¾å¤‡IPï¼š192.168.10.11
SNMPå›¢ä½“åï¼špublic
è®¾å¤‡ç±»å‹ï¼šäº¤æ¢æœº

# æ·»åŠ è·¯ç”±å™¨
è®¾å¤‡IPï¼š192.168.10.1
SNMPå›¢ä½“åï¼špublic
è®¾å¤‡ç±»å‹ï¼šè·¯ç”±å™¨

# æ·»åŠ é˜²ç«å¢™
è®¾å¤‡IPï¼š192.168.10.20
SNMPå›¢ä½“åï¼špublic
è®¾å¤‡ç±»å‹ï¼šé˜²ç«å¢™
</code></pre>
<h2>ç¬¬åé˜¶æ®µï¼šé…ç½®éªŒè¯å’Œæµ‹è¯•</h2>
<h3>10.1 ç½‘ç»œè¿é€šæ€§æµ‹è¯•</h3>
<p><strong>æ­¥éª¤1ï¼šåŸºç¡€è¿é€šæ€§æµ‹è¯•</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åœ¨æ ¸å¿ƒäº¤æ¢æœºä¸Šæµ‹è¯•
[Core-Switch-1]ping 192.168.10.12  # æµ‹è¯•åˆ°Core-Switch-2
[Core-Switch-1]ping 192.168.10.1   # æµ‹è¯•åˆ°Router-1
[Core-Switch-1]ping 192.168.10.21  # æµ‹è¯•åˆ°Agg-Switch-1F-1

# åœ¨è·¯ç”±å™¨ä¸Šæµ‹è¯•
[Router-1]ping 8.8.8.8  # æµ‹è¯•å¤–ç½‘è¿é€šæ€§
[Router-1]ping 192.168.10.11  # æµ‹è¯•åˆ°æ ¸å¿ƒäº¤æ¢æœº
</code></pre>
<p><strong>æ­¥éª¤2ï¼šVLANé—´è·¯ç”±æµ‹è¯•</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># ä»åŠå…¬åŒºæµ‹è¯•åˆ°å…¶ä»–VLAN
ping 192.168.101.1  # æµ‹è¯•VLANé—´è·¯ç”±
ping 192.168.200.1  # æµ‹è¯•åˆ°ä¼šè®®å®¤VLAN
ping 8.8.8.8        # æµ‹è¯•å¤–ç½‘è®¿é—®
</code></pre>
<p><strong>æ­¥éª¤3ï¼šDHCPåŠŸèƒ½æµ‹è¯•</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> åœ¨å®¢æˆ·ç«¯æµ‹è¯•DHCP</span>
ipconfig /release
ipconfig /renew
ipconfig /all  <span class="pl-c"><span class="pl-c">#</span> æŸ¥çœ‹è·å–çš„IPåœ°å€</span></pre></div>
<p><strong>æ­¥éª¤4ï¼šæ— çº¿ç½‘ç»œæµ‹è¯•</strong></p>
<pre class="notranslate"><code class="notranslate"># æµ‹è¯•æ— çº¿è¿æ¥
# è¿æ¥Office-WiFi SSID
# å¯†ç ï¼šHuawei@2024
# æµ‹è¯•ç½‘ç»œè¿é€šæ€§
</code></pre>
<h3>10.2 æ•…éšœåˆ‡æ¢æµ‹è¯•</h3>
<p><strong>æ­¥éª¤1ï¼šVRRPåˆ‡æ¢æµ‹è¯•</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># åœ¨Core-Switch-1ä¸Šå…³é—­VLANIFæ¥å£
[Core-Switch-1]interface vlanif 100
[Core-Switch-1-Vlanif100]shutdown
[Core-Switch-1-Vlanif100]quit

# åœ¨å®¢æˆ·ç«¯æµ‹è¯•ç½‘å…³æ˜¯å¦åˆ‡æ¢åˆ°Core-Switch-2
ping 192.168.100.254

# æ¢å¤æ¥å£
[Core-Switch-1]interface vlanif 100
[Core-Switch-1-Vlanif100]undo shutdown
[Core-Switch-1-Vlanif100]quit
</code></pre>
<p><strong>æ­¥éª¤2ï¼šé“¾è·¯å†—ä½™æµ‹è¯•</strong></p>
<pre class="notranslate"><code class="notranslate"># æ–­å¼€ä¸»é“¾è·¯ï¼Œæµ‹è¯•å¤‡ç”¨é“¾è·¯æ˜¯å¦ç”Ÿæ•ˆ
# è§‚å¯ŸSTPæ”¶æ•›æ—¶é—´
# æµ‹è¯•ç½‘ç»œè¿é€šæ€§æ¢å¤æƒ…å†µ
</code></pre>
<h1>å››. è¿ç»´ä¸æ£€æŸ¥</h1>
<h2>é…ç½®éƒ¨ç½²æ³¨æ„äº‹é¡¹</h2>
<h3>å®‰å…¨æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>å¯†ç å®‰å…¨</strong>ï¼šæ‰€æœ‰è®¾å¤‡ä½¿ç”¨å¼ºå¯†ç ï¼Œå®šæœŸæ›´æ¢</li>
<li><strong>è®¿é—®æ§åˆ¶</strong>ï¼šé™åˆ¶ç®¡ç†è®¿é—®æ¥æºIP</li>
<li><strong>SNMPå®‰å…¨</strong>ï¼šä½¿ç”¨SNMPv3æˆ–æ›´æ”¹é»˜è®¤å›¢ä½“å</li>
<li><strong>å›ºä»¶æ›´æ–°</strong>ï¼šåŠæ—¶æ›´æ–°è®¾å¤‡å›ºä»¶å’Œå®‰å…¨è¡¥ä¸</li>
</ol>
<h3>é…ç½®å¤‡ä»½</h3>
<ol>
<li><strong>å®šæœŸå¤‡ä»½</strong>ï¼šæ¯å‘¨å¤‡ä»½æ‰€æœ‰è®¾å¤‡é…ç½®</li>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šè®°å½•é…ç½®å˜æ›´å†å²</li>
<li><strong>æ¢å¤æµ‹è¯•</strong>ï¼šå®šæœŸæµ‹è¯•é…ç½®æ¢å¤æµç¨‹</li>
</ol>
<h3>ç›‘æ§å‘Šè­¦</h3>
<ol>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šç›‘æ§è®¾å¤‡CPUã€å†…å­˜ã€æ¥å£åˆ©ç”¨ç‡</li>
<li><strong>æ•…éšœå‘Šè­¦</strong>ï¼šé…ç½®è®¾å¤‡æ•…éšœã€é“¾è·¯ä¸­æ–­å‘Šè­¦</li>
<li><strong>å®‰å…¨ç›‘æ§</strong>ï¼šç›‘æ§å¼‚å¸¸è®¿é—®å’Œå®‰å…¨äº‹ä»¶</li>
</ol>
<h3>æ–‡æ¡£ç»´æŠ¤</h3>
<ol>
<li><strong>é…ç½®æ–‡æ¡£</strong>ï¼šåŠæ—¶æ›´æ–°é…ç½®æ–‡æ¡£</li>
<li><strong>ç½‘ç»œæ‹“æ‰‘</strong>ï¼šä¿æŒæ‹“æ‰‘å›¾ä¸å®é™…ä¸€è‡´</li>
<li><strong>æ“ä½œè®°å½•</strong>ï¼šè®°å½•æ‰€æœ‰é…ç½®å˜æ›´æ“ä½œ</li>
</ol>
<h2>æ•…éšœæ’é™¤æŒ‡å—</h2>
<h3>å¸¸è§é—®é¢˜å¤„ç†</h3>
<p><strong>é—®é¢˜1ï¼šè®¾å¤‡æ— æ³•SSHç™»å½•</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># æ£€æŸ¥SSHæœåŠ¡çŠ¶æ€
display ssh server status

# é‡æ–°ç”Ÿæˆå¯†é’¥
rsa local-key-pair create

# æ£€æŸ¥ç”¨æˆ·é…ç½®
display aaa local-user
</code></pre>
<p><strong>é—®é¢˜2ï¼šVLANé—´æ— æ³•é€šä¿¡</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># æ£€æŸ¥VLANIFæ¥å£çŠ¶æ€
display interface vlanif brief

# æ£€æŸ¥è·¯ç”±è¡¨
display ip routing-table

# æ£€æŸ¥OSPFé‚»å±…
display ospf peer
</code></pre>
<p><strong>é—®é¢˜3ï¼šDHCPå®¢æˆ·ç«¯æ— æ³•è·å–IP</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> æ£€æŸ¥DHCPä¸­ç»§é…ç½®</span>
display dhcp relay server-group

<span class="pl-c"><span class="pl-c">#</span> æ£€æŸ¥DHCPæœåŠ¡å™¨çŠ¶æ€</span>
sudo systemctl status dhcpd

<span class="pl-c"><span class="pl-c">#</span> æŸ¥çœ‹DHCPæ—¥å¿—</span>
sudo tail -f /var/log/dhcpd.log</pre></div>
<p><strong>é—®é¢˜4ï¼šæ— çº¿å®¢æˆ·ç«¯æ— æ³•è¿æ¥</strong></p>
<pre lang="cli" class="notranslate"><code class="notranslate"># æ£€æŸ¥APçŠ¶æ€
[Wireless-Controller-1-wlan-view]display ap all

# æ£€æŸ¥VAPçŠ¶æ€
[Wireless-Controller-1-wlan-view]display vap all

# æ£€æŸ¥SSIDé…ç½®
[Wireless-Controller-1-wlan-view]display ssid-profile all
</code></pre>
<h2>é…ç½®å®Œæˆæ£€æŸ¥æ¸…å•</h2>
<h3>è®¾å¤‡é…ç½®æ£€æŸ¥</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  æ‰€æœ‰è®¾å¤‡åŸºç¡€é…ç½®å®Œæˆ</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  ç®¡ç†IPåœ°å€é…ç½®æ­£ç¡®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  SSHè®¿é—®æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  SNMPé…ç½®å®Œæˆ</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  æ—¶é—´åŒæ­¥é…ç½®</li>
</ul>
<h3>ç½‘ç»œåŠŸèƒ½æ£€æŸ¥</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  VLANåˆ›å»ºå’Œé…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  VLANIFæ¥å£é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  è·¯ç”±åè®®é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  VRRPå†—ä½™é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  STPé…ç½®</li>
</ul>
<h3>å®‰å…¨åŠŸèƒ½æ£€æŸ¥</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  é˜²ç«å¢™ç­–ç•¥é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  ACLè®¿é—®æ§åˆ¶</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  ç«¯å£å®‰å…¨é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  DHCP Snoopingé…ç½®</li>
</ul>
<h3>æ— çº¿ç½‘ç»œæ£€æŸ¥</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  æ— çº¿æ§åˆ¶å™¨é…ç½®</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  APæ³¨å†Œå’Œä¸Šçº¿</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  SSIDå¹¿æ’­æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  æ— çº¿å®¢æˆ·ç«¯è¿æ¥æµ‹è¯•</li>
</ul>
<h3>æœåŠ¡åŠŸèƒ½æ£€æŸ¥</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  DHCPæœåŠ¡æ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  DNSè§£ææ­£å¸¸</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  NTPæ—¶é—´åŒæ­¥</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  ç½‘ç®¡å¹³å°ç›‘æ§</li>
</ul>
<h3>è¿é€šæ€§æµ‹è¯•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  å†…ç½‘è¿é€šæ€§æµ‹è¯•</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  VLANé—´è·¯ç”±æµ‹è¯•</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  å¤–ç½‘è®¿é—®æµ‹è¯•</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  æ— çº¿ç½‘ç»œæµ‹è¯•</li>
</ul>
<h3>å†—ä½™æµ‹è¯•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  VRRPåˆ‡æ¢æµ‹è¯•</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  é“¾è·¯æ•…éšœåˆ‡æ¢æµ‹è¯•</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" aria-label="Completed task" checked="">  è®¾å¤‡æ•…éšœåˆ‡æ¢æµ‹è¯•</li>
</ul>
<hr>
<p><strong>é…ç½®éƒ¨ç½²å®Œæˆåï¼Œè¯·ç¡®ä¿æ‰€æœ‰æ£€æŸ¥é¡¹ç›®éƒ½å·²é€šè¿‡éªŒè¯ï¼Œå¹¶åŠæ—¶ä¿å­˜æ‰€æœ‰è®¾å¤‡é…ç½®ã€‚</strong></p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">è¯„è®º</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright Â© <span id="copyrightYear"></span> <a href="https://weisunit.github.io">Weisunit Blog</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="ç½‘ç«™è¿è¡Œ"+diffDay+"å¤©"+" â€¢ ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","weisunit/weisunit.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>


</html>
